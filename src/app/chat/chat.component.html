<h1>chat</h1>


<div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-4">
        <div>
            {{socketService.connectionState | json}}
        </div>

        <button (click)="disconnect()" *ngIf="socketService.connectionState.isConnected">disconnect</button>
        <button (click)="connect()" *ngIf="!socketService.connectionState.isConnected">connect</button>
    </div>


    <div class="col-md-5">
        <accordion>




            <accordion-group>
                <div accordion-heading>
                    Platform
                </div>
                <div class="row platform">
                    <div class="col-md-3 users-list">
                        connections
                        <ul>
                            <li *ngFor="let key of objectKeys(socketService.actualConnections)">
                                <a href="#" (click)="selectUser(key, $event)" [ngClass]="{'active': selectedOpponent == key }">{{key}}</a>
                            </li>
                        </ul>
                        <!--<ul *ngIf="socketService.actualConnections">-->
                            <!--<li>-->
                                <!--<a href="#" (click)="selectUser(null, $event)">all</a>-->
                            <!--</li>-->
                            <!--<li *ngFor="let key of objectKeys(socketService.actualConnections)"-->
                            <!--&gt;-->
                                <!--<a href="#"-->
                                   <!--(click)="selectUser(key, $event)">{{key}} </a>-->

                            <!--</li>-->
                        <!--</ul>-->
                    </div>
                    <div class="col-md-9 chat">
                        <div class="chat-field">
                            chat field

                        </div>
                        <div class="messages-field">
                            <form [formGroup]="messageForm" (ngSubmit)="onSubmit(messageForm)">
                                <textarea
                                        class="message-box"
                                        type="text"
                                        formControlName="messageText"
                                        (keydown)="onKey($event, messageForm)"
                                ></textarea>
                            </form>
                        </div>
                    </div>
                </div>
            </accordion-group>

        </accordion>
    </div>
</div>


